#include <stdio.h>
#include <string.h>
#include <stdlib.h>

//struct que armazena o endereco das lojas
struct tEnderecolojas {
    //todas as strings estao terminadas em 'l' para diferenciar das que armazenam dados de clientes
    char rual[50]; //vetor que armazena o nome da rua da loja
    char bairrol[50];//vetor que armazena o nome do bairro da loja
    char cidadel[50];//vetor que armazena o nome da cidade da loja
    char estadol[50];//vetor que armazena o nome do estado da loja
    char cepl[50]; //vetor que armazena o numero do cep da loja
};
typedef struct tEnderecolojas tEnderecolojas;

struct tCadastrolojas {
    //todas as strings estao terminadas em 'l' para diferenciar das que armazenam dados de clientes
    char nome_estabelecimento[50]; //vetor que armazena o nome da loja
    tEnderecolojas enderecolojas; // colocando a struct que contem os dados de endereco como parte das informacoes de cadastro
    char cnpj[50]; //vetor que armazena o numero do cnpj da loja 
    char ramo_de_atuacao[50]; //ramo de atuacao da empresa 
    };
typedef struct tCadastrolojas tCadastrolojas;

tCadastrolojas leCadloj();
tEnderecolojas LeEndloj();

//funcao que faz o cadastro dos clientes armazenando as informacoes
tCadastrolojas leCadloj() {
    tCadastrolojas v;
    
    printf("nome do estabelecimento: "); //le o nome da empresa
    fgets(v.nome_estabelecimento, 50, stdin);
    v.nome_estabelecimento[strlen(v.nome_estabelecimento)-1] = '\0';//remove '\n'
    v.enderecolojas = LeEndloj();  //chama a funcao que le o endereco da empresa
    printf("cnpj somente os numeros sem os pontos e tracos: "); //le o cnpj da empresa
    fgets(v.cnpj, 50, stdin);
    v.cnpj[strlen(v.cnpj)-1] = '\0';//remove '\n'
    printf("Ramo de atuação: "); //le o Ramo de atuação da empresa
    fgets(v.ramo_de_atuacao, 50, stdin);
    v.ramo_de_atuacao[strlen(v.ramo_de_atuacao)-1] = '\0';//remove '\n'
    
    
    printf("\n");
    
    return v;
}

//funcao que le o endereco das lojas armazenando as informacoes
tEnderecolojas LeEndloj() {
    tEnderecolojas v;
    
    printf("rua: "); //le a rua da loja
    fgets(v.rual, 50, stdin);
    v.rual[strlen(v.rual)-1] = '\0';//remove '\n'
    printf("bairro: "); //le a rua da loja
    fgets(v.bairrol, 50, stdin); //le o bairro da loja
    v.bairrol[strlen(v.bairrol)-1] = '\0';//remove '\n'
    printf("cidade: "); //le a cidade da loja
    fgets(v.cidadel, 50, stdin);
    v.cidadel[strlen(v.cidadel)-1] = '\0';//remove '\n'
    printf("estado: "); //le o estado da loja
    fgets(v.estadol, 50, stdin);
    v.estadol[strlen(v.estadol)-1] = '\0';//remove '\n'
    printf("cep: "); //le o cep da loja
    fgets(v.cepl, 50, stdin);
    v.cepl[strlen(v.cepl)-1] = '\0';//remove '\n'
}
