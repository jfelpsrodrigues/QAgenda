#include <stdio.h>
#include <string.h>
#include <stdlib.h>

//struct que armazena o endereco dos clientes
struct tEnderecoclientes {
    //todas as strings estao terminadas em 'c' para diferenciar das que armazenam dados de lojas
    char ruac[50]; //vetor que armazena o nome da rua do cliente
    char bairroc[50]; //vetor que armazena o nome do bairro do cliente
    char cidadec[50]; //vetor que armazena o nome da cidade do cliente
    char estadoc[50]; //vetor que armazena o nome do estado do cliente
    char cepc[50]; //vetor que armazena o cep do cliente
};
typedef struct tEnderecoclientes tEnderecoclientes;

struct tCadastroclientes {
    //as strings estao terminadas em 'c' para diferenciar das que armazenam dados de lojas
    char nome[50]; //vetor que armazena o nome do cliente
    tEnderecoclientes enderecoclientes; // colocando a struct que contem os dados de endereco como parte das informacoes de cadastro
    char cpf[50]; //numero de cpf do cliente
    int idade; //idade do cliente
    char sexo; //sexo do cliente onde 'm' e masculino e 'f' para feminino
    char senha[50];//senha do cliente
};
typedef struct tCadastroclientes tCadastroclientes;

tCadastroclientes leCadcli();
tEnderecoclientes LeEndcli();

//funcao que faz o cadastro dos clientes armazenando as informacoes
tCadastroclientes leCadcli() {
    tCadastroclientes v;
    
    printf("nome: ");
    fgets(v.nome, 50, stdin); //armazena o nome do cliente
    v.nome[strlen(v.nome)-1] = '\0';//remove '\n'
    v.enderecoclientes = LeEndcli(); //chama a funcao que le o endereco dos clientes
    printf("cpf: "); //armazena o cpf do cliente
    fgets(v.cpf, 50, stdin);
    v.cpf[strlen(v.cpf)-1] = '\0';//remove '\n'
    printf("digite o sexo, sendo m para masculino e f para feminino : "); //armazena o sexo do cliente
    v.sexo = getchar();
    printf("idade: "); //armazena a idade do cliente
    scanf("%i", &v.idade); getchar();
    printf("senha: "); //armazena a senha do cliente
    fgets(v.senha, 50, stdin);
    v.senha[strlen(v.senha)-1] = '\0';//remove '\n'
    printf("\n");
    
    return v;
}

//funcao que le o endereco dos clientes armazenando as informacoes
tEnderecoclientes LeEndcli() {
    tEnderecoclientes v;
    
    printf("rua: "); //le a rua do cliente
    fgets(v.ruac, 50, stdin);
    v.ruac[strlen(v.ruac)-1] = '\0';//remove '\n'
    printf("bairro: "); //le o bairro do cliente
    fgets(v.bairroc, 50, stdin);
    v.bairroc[strlen(v.bairroc)-1] = '\0';//remove '\n'
    printf("cidade: ");// le a cidade do cliente
    fgets(v.cidadec, 50, stdin);
    v.cidadec[strlen(v.cidadec)-1] = '\0';//remove '\n'
    printf("estado: "); //le o estado do cliente
    fgets(v.estadoc, 50, stdin);
    v.estadoc[strlen(v.estadoc)-1] = '\0';//remove '\n'
    printf("cep: "); // le o cep do cliente
    fgets(v.cepc, 50, stdin);
    v.cepc[strlen(v.cepc)-1] = '\0';//remove '\n'
}
